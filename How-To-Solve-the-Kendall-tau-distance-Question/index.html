<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>How To Solve the Kendall tau distance Question | 欢迎加入绿灯军团</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="/css/donate.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">How To Solve the Kendall tau distance Question</h1><a id="logo" href="/.">欢迎加入绿灯军团</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/guestbook/"><i class="fa fa-comments"> 留言</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">How To Solve the Kendall tau distance Question</h1><div class="post-meta">Aug 3, 2017<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Preface"><span class="toc-number">1.</span> <span class="toc-text">Preface</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Definition"><span class="toc-number">1.1.</span> <span class="toc-text">Definition</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#example"><span class="toc-number">1.2.</span> <span class="toc-text">example</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution"><span class="toc-number">1.3.</span> <span class="toc-text">Solution</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#What’s-Kendall-tau-distance"><span class="toc-number">2.</span> <span class="toc-text">What’s Kendall tau distance</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Reduction"><span class="toc-number">3.</span> <span class="toc-text">Reduction</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Implemention"><span class="toc-number">4.</span> <span class="toc-text">Implemention</span></a></li></ol></div></div><div class="post-content"><h1 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h1><p>Before we talk about Kendall tau distance,I think konw the <strong>Inversion Number</strong> is important to go further.make sure you konw clearly about ot or i suggesst you shuold read  in oder.</p>
<h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p>The inversion number is the cardinality of inversion set. It is a common measure of the sortedness of a permutation or sequence.</p>
<p>It is the number of crossings in the arrow diagram of the permutation, its Kendall tau distance from the identity permutation, and the sum of each of the inversion related vectors defined below.    </p>
<h2 id="example"><a href="#example" class="headerlink" title="example"></a>example</h2><p>Let’s look at an example, for example, we have arrays {2, 3, 8, 6, 1}. For the first element 2, the element behind it is smaller than it and it forms a reverse order. Such as 2 and 1.3 and 1, 8 and 6 and 1 constitute a reverse order relationship. In this way, we will naturally draw a question, if we need to calculate an array of all the reverse order, what is a good way?</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>It’s easy to think out using Insertion Sort to count the nums,but its complexity is O(n^2) method,so i just introduce another solution.<br>If you understand how mergesort works,you’ll find out we can use mergesort to decrease the complexity to O(NlogN).Don’t BB,Show me the Code:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Inversions</span></span>&#123;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="title">getCount</span><span class="params">(<span class="keyword">int</span>[] array)</span></span>&#123;</div><div class="line">		mergeSort(array,<span class="number">0</span>,array.length()-<span class="number">1</span>)</div><div class="line">		<span class="keyword">return</span> count;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">int</span> Count=<span class="number">0</span>;</div><div class="line">	<span class="function">Public <span class="keyword">static</span> <span class="keyword">void</span>  <span class="title">mergeSort</span> <span class="params">( <span class="keyword">int</span> [] array,  <span class="keyword">int</span>  start,  <span class="keyword">int</span>  end)</span>    </span></div><div class="line">	&#123;  </div><div class="line">	    If (start &lt;end)  </div><div class="line">	    &#123;  </div><div class="line">	        Int  middle = start + (end - start) /  <span class="number">2</span> ;  </div><div class="line">	        MergeSort (array, start, middle);  </div><div class="line">	        MergeSort (array, middle +  <span class="number">1</span> , end);  </div><div class="line">	        Merge (array, start, middle, end);  </div><div class="line">	    &#125;  </div><div class="line">	&#125;  </div><div class="line">	  </div><div class="line">	<span class="function">Public <span class="keyword">static</span> <span class="keyword">void</span>  <span class="title">merge</span> <span class="params">( <span class="keyword">int</span> [] a,  <span class="keyword">int</span>  start,  <span class="keyword">int</span>  middle,  <span class="keyword">int</span>  end)</span>    </span></div><div class="line">	&#123;  </div><div class="line">	    Int [] array =  <span class="keyword">new</span> <span class="keyword">int</span> [end - start +  <span class="number">1</span> ];   </div><div class="line">	    Int  i =  <span class="number">0</span> , j = start, k = middle +  <span class="number">1</span> ;  </div><div class="line">	    While (j &lt;= middle &amp;&amp; k &lt;= end)  </div><div class="line">	    &#123;  </div><div class="line">	        If (a [j] &lt;= a [k])  </div><div class="line">	            Array [i ++] = a [j ++];  </div><div class="line">	        Else  </div><div class="line">	        &#123;  </div><div class="line">	            Count + = middle - j +  <span class="number">1</span> ;  </div><div class="line">	            Array [i ++] = a [k ++];  </div><div class="line">	        &#125;  </div><div class="line">	    &#125;  </div><div class="line">	    While (j &lt;= middle)  </div><div class="line">	        Array [i ++] = a [j ++];  </div><div class="line">	    While (k &lt;= end)  </div><div class="line">	        Array [i ++] = a [k ++];  </div><div class="line">	    For (i =  <span class="number">0</span> ; i &lt;array.length; i ++)  </div><div class="line">	        A [start + i] = array [i];  </div><div class="line">	&#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Count is the answer to Inversion Number.</p>
<h1 id="What’s-Kendall-tau-distance"><a href="#What’s-Kendall-tau-distance" class="headerlink" title="What’s Kendall tau distance"></a>What’s Kendall tau distance</h1><p>The Kendall tau rank distance is a metric that counts the number pairwise disagreements between two rank lists.<br>A permutation (or ranking) is an array of N integers where each of the integers between 0 and N-1 appears exactly once. The Kendall tau distance between two rankings is the number of pairs that are in different order in the two rankings.<br>For example, the Kendall tau distance between 0 3 1 6 2 5 4 and 1 0 3 6 4 2 5 is four because the pairs 0-1, 3-1, 2-4, 5-4 are in different order in the two rankings, but all other pairs are in the same order.<br><a href="https://en.wikipedia.org/wiki/Kendall_tau_distance" target="_blank" rel="external">reference wikipedia</a></p>
<h1 id="Reduction"><a href="#Reduction" class="headerlink" title="Reduction"></a>Reduction</h1><p>For example,<strong>a[]</strong>,<strong>b[]</strong> are the origin arrays.we need  to find out the Kendall tau distance between a and b.What we need to do is construct a funtion <strong>getDistance(a,b)</strong>.<br>Cosider there is a function A which is one to one,then we have A(a) and A(b),it’s easy to find out<br><code>getDistance(a,b)==getDistance(A(a),A(b))</code>.<br>We notice that the key and index is a one to one function,So We can generate an array map the key to the index.<br>We new <strong>A[a[i]]=i</strong> and let <strong>B[i]=A[b[i]]</strong>,based on the  A[a[i]] is an ordered array,so we can reduction the question to <strong>Reverse Oder Number</strong>.</p>
<h1 id="Implemention"><a href="#Implemention" class="headerlink" title="Implemention"></a>Implemention</h1><p>show me the code<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function">Public <span class="keyword">static</span> <span class="keyword">long</span>  <span class="title">distance</span> <span class="params">( <span class="keyword">int</span> [] a,  <span class="keyword">int</span> [] b)</span> </span>&#123;    </div><div class="line">    If (a.length! = B.length)  </div><div class="line">        <span class="function">Throw new  <span class="title">IllegalArgumentException</span> <span class="params">( <span class="string">"Array dimensions disagree"</span> )</span></span>;   </div><div class="line">    Int  n = a.length;  </div><div class="line">    Int [] A =  <span class="keyword">new</span> <span class="keyword">int</span> [n];   </div><div class="line">    For ( <span class="keyword">int</span>  i =  <span class="number">0</span> ; i &lt;n; i ++)  </div><div class="line">        A [a [i]] = i;  </div><div class="line">  </div><div class="line">    Int [] B =  <span class="keyword">new</span> <span class="keyword">int</span> [n];   </div><div class="line">    For ( <span class="keyword">int</span>  i =  <span class="number">0</span> ; i &lt;n; i ++)  </div><div class="line">        B [i] = A [b [i]];  </div><div class="line">  </div><div class="line">    Return  Inversions.getCount (B);  </div><div class="line">&#125;  </div></pre></td></tr></table></figure></p>
<p>#End</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="https://jarvis-k.github.io/How-To-Solve-the-Kendall-tau-distance-Question/" data-id="cj6t3r4px000288ihx8skamgx" class="article-share-link">分享</a><div class="tags"><a href="/tags/Algorithm/">Algorithm</a></div><div class="post-nav"><a href="/Something-About-DP/" class="pre">Something About DP</a><a href="/Trojan-To-Get-The-Keyboard-Input-With-Python/" class="next">Trojan To Get The Keyboard Input With Python</a></div><div class="post-donate"><div id="donate_board" class="donate_bar center"><a id="btn_donate" href="javascript:;" title="打赏" class="btn_donate"></a><div class="donate_txt"> &uarr;<br>此文有用？求鼓励<br></div></div><div id="donate_guide" class="donate_bar center hidden"><img src="https://Jarvis-K.github.io/donate-page/simple/images/WeChanQR.png" title="微信打赏"></div><script type="text/javascript">document.getElementById('btn_donate').onclick = function(){
    $('#donate_board').addClass('hidden');
    $('#donate_guide').removeClass('hidden');
}</script></div><div id="container"></div><link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css"><script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script><script>var gitment = new Gitment({
  id: 'How To Solve the Kendall tau distance Question',
  owner: 'Jarvis-K',
  repo: 'Jarvis-K.github.io',
  oauth: {
    client_id: 'f5c6bbd5b2ae20c2f136',
    client_secret: 'fed7dc675f5293f90d56d4055654fb89db9003a8',
  },
})
gitment.render('container')</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://jarvis-k.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Algorithm/" style="font-size: 15px;">Algorithm</a> <a href="/tags/Hack/" style="font-size: 15px;">Hack.</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/三流之路/">三流之路</a></li><li class="post-list-item"><a class="post-list-link" href="/Something-About-DP/">Something About DP</a></li><li class="post-list-item"><a class="post-list-link" href="/How-To-Solve-the-Kendall-tau-distance-Question/">How To Solve the Kendall tau distance Question</a></li><li class="post-list-item"><a class="post-list-link" href="/Trojan-To-Get-The-Keyboard-Input-With-Python/">Trojan To Get The Keyboard Input With Python</a></li><li class="post-list-item"><a class="post-list-link" href="/Hello-Compiler/">Hello-Compiler</a></li><li class="post-list-item"><a class="post-list-link" href="/MarkDown语法记录/">MarkDown语法记录</a></li><li class="post-list-item"><a class="post-list-link" href="/hello-world/">Hello World</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">欢迎加入绿灯军团.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>